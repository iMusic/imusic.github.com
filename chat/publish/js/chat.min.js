var $=function(a){return document.querySelector(a)};var $$=function(a){return document.querySelectorAll(a)};var Fx={namespace:function(c,b){b=b||window,c=c.split(".");for(var a=0;a<c.length;a++){b[c[a]]=b[c[a]]||{};b=b[c[a]]}return b},extend:function(g,e){var d,a,c,b=arguments,f;for(d=1,a=b.length;d<a;d++){e=b[d];for(c in e){if(e.hasOwnProperty(c)){f=e[c];if(f!==undefined){g[c]=f}}}}return g},create:function(b,c){var d,a;d=b.match(/(^|\.)(\w+)$/i)[2];a=this.namespace(b.replace(/\.\w+$/,""));a[d]=c[d];this.extend(a[d].prototype,c)},format:function(c,b){var a=b.length==1&&typeof b[0]=="object"?b[0]:b;return c.replace(/\{([\d\w]+)\}/g,function(d,e){return typeof a[e]!="undefined"?a[e].toString():d})}};Fx.ex={isQQ:function(a){return/^[1-9]{1}\d{4,11}$/.test(a)}};Fx.create("Fx.ui.Popup",{tml:'<div class="popup-cnt">      <i class="popup-icon" data-icon="{type}"></i>      <p class="popup-txt">{text}</p>    </div>    <div class="popup-btn"></div>',Popup:function(c){var b=this;var h="popup_"+new Date().getTime();this.id=h;var g={type:"m-succ",text:"内容未定义",buttons:[new Fx.ui.Button({text:"确定",click:function(){b.remove()}})]};var e=Fx.extend(g,c);var a=document.createElement("div");this.el=a;a.id=h;a.className="popup-box";a.innerHTML=Fx.format(b.tml,{type:e.type,text:e.text});document.body.appendChild(a);var f=a.querySelector(".popup-btn");for(var d=0;d<e.buttons.length;d++){f.appendChild(e.buttons[d].el)}},remove:function(){document.body.removeChild(this.el)}});Fx.create("Fx.ui.Button",{Button:function(b){var a=document.createElement("button");a.innerHTML=b.text||"";a.addEventListener("click",b.click||function(){},false);this.el=a}});var User={uin:0,nickname:"",bubble:0};var Users={};var Users_tmpl='<div class="img-box">    <img src="http://q.qlogo.cn/headimg_dl?dst_uin={uin}&spec=40">  </div>  <span>{nickname}</span>  <p>{uin}</p>  <i>྾</i>';var userList={};var config={online:true,message:true,callme:false,notify:false};var sound=document.createElement("audio");sound.volume=0.4;FSS("backskin");(function(){Fx.extend(Fx.ex,{getQQ:function(k,i){var i=i();var j=document.createElement("script");j.src=k;document.head.appendChild(j);document.head.removeChild(j);return i}});history.replaceState({},null,"/login");var g=localStorage.user;if(g){g=JSON.parse(g);User.uin=g.uin;if(!g.isAuto){$("#J_loginAvatar").src="http://q.qlogo.cn/headimg_dl?dst_uin="+g.uin+"&spec=100";$("#J_loginUin").value=g.uin}else{a(g.uin)}}Users=localStorage.users?JSON.parse(localStorage.users):{};var e=document.createDocumentFragment();for(var f in Users){var c=document.createElement("li");c.id="users_"+f;c.dataset.uin=f;c.innerHTML=Fx.format(Users_tmpl,Users[f]);e.appendChild(c)}$(".login-list").appendChild(e);$("#J_loginUin").addEventListener("input",function(){if(!Users[this.value]){f=3333333}else{f=this.value}$("#J_loginAvatar").src="http://q.qlogo.cn/headimg_dl?dst_uin="+f+"&spec=100"},false);$("#J_loginUin").addEventListener("keydown",function(i){if(i.keyCode===13){d()}},false);$("#J_loginSel").addEventListener("click",function(k){k.stopPropagation();if(this.className=="on"){this.className="";$(".login-list").style.display="none"}else{this.className="on";$(".login-list").style.display="block";if(Object.keys(Users).length){var j=$$(".login-list li").length;while(j--){$$(".login-list li")[j].className=""}$("#users_"+User.uin).className="current"}else{$(".login-list").style.height="50px"}}},false);document.body.addEventListener("click",function(i){$("#J_loginSel").className="";$(".login-list").style.display="none"},false);var b=document.querySelector(".login-list");var h=b.querySelectorAll("li");b.addEventListener("mouseenter",function(i){if(i.target.tagName.toLowerCase()==="li"){[].forEach.call(h,function(j,k){j.className=(j===i.target)?"current":""})}},true);b.addEventListener("mousedown",function(k){if(k.target.tagName.toLowerCase()==="i"){var j=k.target.parentNode,i=j.dataset.uin;if(User.uin===i){$("#J_loginAvatar").src="http://q.qlogo.cn/headimg_dl?dst_uin=12345&spec=100";$("#J_loginUin").value="";User={};localStorage.removeItem("user")}delete Users[i];localStorage.setItem("users",JSON.stringify(Users));this.removeChild(j);return false}if(k.target.tagName.toLowerCase()==="ul"){return false}var j=(k.target.tagName.toLowerCase()==="li")?k.target:k.target.parentNode;$("#J_loginAvatar").src="http://q.qlogo.cn/headimg_dl?dst_uin="+j.dataset.uin+"&spec=100";$("#J_loginUin").value=j.dataset.uin},false);$("#J_loginEnter").addEventListener("click",d,false);function d(){var i=$("#J_loginUin").value.trim(),j=$("#J_loginAuto").checked;if(Fx.ex.isQQ(i)){localStorage.setItem("user",JSON.stringify({uin:i,isAuto:j}));a(i)}else{new Fx.ui.Popup({type:"m-warn",text:"你没有QQ吗？",buttons:[new Fx.ui.Button({text:"是的",click:function(){location.href="http://zc.qq.com/chs/"}}),new Fx.ui.Button({text:"不是",click:function(){this.parentNode.parentNode.remove();$("#J_loginUin").select()}})]})}}function a(i){$("#J_Login").style.display="none";$("#J_Loader").style.display="block";$("body").classList.remove("login-status");$(".loading-dots").classList.add("ani_dot");history.replaceState({},null,"/chat");User.uin=i;Fx.ex.getQQ("http://vczhan.com/api/getQQ.php?qq="+i,function(){window.getQQ=function(j){User.nickname=j.nickname||i;Chat()}})}}());function Chat(){var f='<li id="user_{uin}">      <img src="http://q.qlogo.cn/headimg_dl?dst_uin={uin}&spec=40" width=16 height=16>      <chat:nick>{nickname}</chat:nick><chat:uin>({uin})</chat:uin>    </li>',c='<div class="msg-item">      <img src="http://q.qlogo.cn/headimg_dl?dst_uin={uin}&spec=40" width=30 height=30>      <chat:nick>{nickname}</chat:nick>      <chat:msg class="bubble_{bubble}">{msg}</chat:msg>    </div>',b='<div class="msg-item owner">      <img src="http://q.qlogo.cn/headimg_dl?dst_uin={uin}&spec=40" width=30 height=30>      <chat:msg class="bubble_{bubble}">{msg}</chat:msg>    </div>';var a=1;try{switch(Notification.permission){case"denied":$("#w_notify").disabled=true;$("#w_notify").checked=false;break;case"granted":$("#w_notify").disabled=false;$("#w_notify").checked=true}}catch(e){}var k=io("http://ichat.coding.io");k.emit("login",User);k.on("usersUpdate",function(n){$("#J_Loader").style.display="none";$("#J_Chat").style.display="block";$(".loading-dots").classList.remove("ani_dot");var m="";for(var l in n){m+=Fx.format(f,{uin:n[l].uin,nickname:n[l].nickname})}$(".user-list").innerHTML=m;$(".notice-box").innerHTML="<chat:notice>发送消息可按快捷键<kbd>Ctrl</kbd>+<kbd>Enter</kbd>或者<kbd>Alt</kbd>+<kbd>S</kbd></chat:notice>";RichTextOP();if(!Users[User.uin]){Users[User.uin]=User;localStorage.setItem("users",JSON.stringify(Users))}userList=n});k.on("join",function(l){$(".user-list").innerHTML+=Fx.format(f,l);$(".user-list li:last-child").className="online";$(".user-list li:last-child").addEventListener("webkitAnimationEnd",function(){this.className=""},false);if(config.notify&&document.hidden){new Fx.evt.Notify().init({title:"系统通知",message:l.nickname+"("+l.uin+")上线了",image:"http://q.qlogo.cn/headimg_dl?dst_uin="+l.uin+"&spec=40",tag:3,timer:3000})}userList[l.uin]=l});k.on("loginErr",function(l){new Fx.ui.Popup({type:"m-warn",text:l,buttons:[new Fx.ui.Button({text:"好的",click:function(){location.reload()}})]})});k.on("logout",function(l){if($("#user_"+l.uin)){$(".user-list").removeChild($("#user_"+l.uin))}if(config.notify&&document.hidden){new Fx.evt.Notify().init({title:"系统通知",message:userList[l.uin].nickname+"("+l.uin+")下线了",image:"http://q.qlogo.cn/headimg_dl?dst_uin="+l.uin+"&spec=40",tag:3,timer:18000})}});k.on("message",function(o){var l=(o.uin===User.uin)?b:c;$(".msg-cnt").innerHTML+=Fx.format(l,o);$(".msg-box").scrollTop=$(".msg-box").scrollHeight;if(config.notify&&document.hidden){var m=document.createElement("div");m.innerHTML=o.msg;var n=m.innerText||m.textContent;a=+!a;new Fx.evt.Notify().init({title:o.nickname+"说：",message:n,image:"http://q.qlogo.cn/headimg_dl?dst_uin="+o.uin+"&spec=40",tag:a+1,timer:8000})}});$(".input-btn").addEventListener("click",d,false);$(".input-cnt").addEventListener("keydown",function(l){if((l.altKey&&l.keyCode===83)||(l.ctrlKey&&l.keyCode===13)){d()}},false);var i={};var g=[];function d(){i={};g=[];var l=$(".input-cnt").childNodes;if(l.length){[].forEach.call(l,function(m,n){if(m.tagName=="IMG"&&m.src[0]=="d"){i[n]=[m.src,m.width,m.height]}g[n]=m});if(Object.keys(i).length){h()}else{$("#saveMsg").innerHTML=$(".input-cnt").innerHTML;j()}$(".input-cnt").innerHTML="";$(".input-cnt").focus()}}function h(){var l=Object.keys(i).length;for(var m in i){(function(o){var p=new XMLHttpRequest(),n=new FormData();p.open("POST","http://vczhan.com/api/upload.php",true);p.onload=function(){var q=new Image();q.src=p.responseText;q.width=i[o][1];q.height=i[o][2];i[o]=q;if(!--l){j(true)}};p.onerror=function(){if(!--l){j(true)}};n.append("file",i[o][0]);p.send(n)})(m)}}function j(l){var n="";if(l){for(var m in i){g[m]=i[m]}for(var m=0;m<g.length;m++){$("#saveMsg").appendChild(g[m])}}n=$("#saveMsg").innerHTML;$("#saveMsg").innerHTML="";k.emit("message",Fx.extend({},User,{msg:n}))}$(".logout-btn").addEventListener("click",function(){localStorage.setItem("user",JSON.stringify({uin:User.uin,isAuto:false}));location.reload()},false)}(function(){Fx.create("Fx.evt.Notify",{Notify:function(){},init:function(b){var d,a={};b=b||{};b.title=b.title||"";a.icon=b.image||null;a.body=b.message||"";a.tag=b.tag||"";try{if(Notification.permission==="denied"){new Fx.ui.Popup({type:"m-warn",text:"对不起，你已关闭了chrome通知功能",buttons:[new Fx.ui.Button({text:"确认",click:function(){this.parentNode.parentNode.remove()}})]})}d=new Notification(b.title,a);if(typeof b.timer==="number"){d.onshow=function(){setTimeout(function(){d.close()},b.timer)}}d.onclick=function(){window.focus()}}catch(c){new Fx.ui.Popup({type:"m-warn",text:"你的浏览器不支持这个功能",buttons:[new Fx.ui.Button({text:"知道了",click:function(){this.parentNode.parentNode.remove()}})]})}},check:function(b){switch(Notification.permission){case"granted":if(b){var a=new Notification("我来组成头部",{body:"[测试]你是猴子请来的逗逼吗？"});a.onshow=function(){setTimeout(function(){a.close()},3000)}}break;case"default":new Fx.ui.Popup({type:"m-warn",text:"你将开启chrome的通知功能，请在确认后点击<strong>允许</strong>按钮",buttons:[new Fx.ui.Button({text:"确认",click:function(){this.parentNode.parentNode.remove();Notification.requestPermission(function(d){if(d==="granted"){var c=new Notification("你已经开启通知功能");c.onshow=function(){setTimeout(function(){c.close()},3000)}}})}})]});break;case"denied":$("#w_notify").checked=false;$("#w_notify").disabled=true;new Fx.ui.Popup({type:"m-warn",text:"对不起，你已关闭了chrome通知功能",buttons:[new Fx.ui.Button({text:"确认",click:function(){this.parentNode.parentNode.remove()}})]});break;default:break}}});if(localStorage.config){config=JSON.parse(localStorage.config)}else{localStorage.config=JSON.stringify(config)}$("#w_notify").checked=config.notify;$("#w_notify").addEventListener("click",function(a){if(Notification.permission==="denied"){$("#w_notify").checked=false;$("#w_notify").disabled=true;return}config.notify=$("#w_notify").checked;localStorage.config=JSON.stringify(config);if(config.notify){new Fx.evt.Notify().check()}},false);$("#cs_notify").addEventListener("click",function(a){new Fx.evt.Notify().check(true)},false);document.addEventListener("visibilitychange",function(){},false)}());function RichTextOP(){var g=document.querySelector(".input-cnt");g.contentEditable=true;g.focus();var b={content:g,updateLastSelectedRange:function(h){try{this.lastSelectedRange=h||window.getSelection().getRangeAt(0).cloneRange()}catch(i){this.focus()}},checkContent:function(){this.updateLastSelectedRange()},onContentChanged:function(){var h=this.content;var i=h.firstChild;if(i&&i==h.lastChild&&i.tagName.toLowerCase()=="br"){h.removeChild(i)}},getContent:function(i){var h=this.content;if(!h){return""}switch(i){case"node":return h;case"html":return h.innerHTML;default:return h.innerText||h.textContext||""}},insertToContent:function(m,k,h,l){var j=this.getContent();var i=this.lastSelectedRange;if(i==null){alert(1)}switch(k){case"node":break;case"html":m="1111";break;default:m=document.createTextNode(m)}i.deleteContents();i.insertNode(m);h=h||function(){i.collapse(false);return i};i=h();this.focusToRange(i);this.onContentChanged(j,this.getContent())},getNodes:function(n,j){j=j||[];for(var m=0,h=n.childNodes.length;m<h;m++){var k=n.childNodes[m];!!k.firstChild?this.getNodes(k,j):j.push(k)}return j},parseNode:function(n){var h=[];for(var t=0,o=n.childNodes.length;t<o;t++){var v=n.childNodes[t];if(v.nodeType===3){h.push(v);continue}if(v.tagName==="IMG"){var r=new Image();r.src=v.src;h.push(r);continue}var p=window.getComputedStyle(v,null).display;if(p==="block"||p==="list-item"){var k=document.createElement("div");var u=this.parseNode(v);var m=document.createDocumentFragment();for(var q=0;q<u.length;q++){m.appendChild(u[q])}k.appendChild(m);h.push(k)}else{if(p==="inline"){var m=document.createElement("span");var u=this.parseNode(v);for(var q=0;q<u.length;q++){m.appendChild(u[q])}h.push(m)}else{if(p==="inline-block"){var m=document.createElement("div");m.style.display="inline-block";var u=this.parseNode(v);for(var q=0;q<u.length;q++){m.appendChild(u[q])}h.push(m)}}}}return h},parseHtml:function(p){var m=this.parseNode(p);return m;if(p.nodeType===3){return p.cloneNode()}if(p.tagName==="IMG"){var k=new Image();k.src=p.src;k.width=p.width||parseInt(window.getComputedStyle(p,null).width);k.height=p.width||parseInt(window.getComputedStyle(p,null).height);return k}else{var j=window.getComputedStyle(p,null).display;if(j==="block"){var q=document.createElement("div");var m=this.parseNode(p);for(var n=0,h=m.length;n<h;n++){q.appendChild(b.parseHtml(m[n]))}return q}else{var o=document.createElement("span");var m=this.getNodes(p);for(var n=0,h=m.length;n<h;n++){o.appendChild(b.parseHtml(m[n]))}return o}}return},focus:function(){var h=this.content;h.focus()},focusToEnd:function(){},focusToRange:function(h){window.getSelection().removeAllRanges();window.getSelection().addRange(h);this.updateLastSelectedRange(h)},onPaste:function(){var p=this.content;var m=this.parseHtml(p);var o=document.createDocumentFragment();for(var n=0,h=m.length;n<h;n++){o.appendChild(m[n])}g.innerHTML="";g.appendChild(o);var q=g.lastChild;var k=window.getSelection();var j=k.getRangeAt(0);j.collapse(false);j.setStartAfter(q);j.setEndAfter(q);k.removeAllRanges();k.addRange(j)}};b.updateLastSelectedRange();["mousedown","mouseup","keydown","keyup"].forEach(function(h){g.addEventListener(h,function(){b.updateLastSelectedRange.call(b)},false)});var e=new Array(105).join().split(",").map(function(h,j){return j++});var a='<i data-emoji="'+e.join('"></i><i data-emoji="')+'"></i>';$(".emoji-cnt").innerHTML=a;$(".emoji").addEventListener("click",function(h){h.stopPropagation();if(this.classList.contains("on")){$(".emoji-cnt").style.display="none";this.classList.remove("on")}else{$(".emoji-cnt").style.display="block";this.classList.add("on")}},false);$(".emoji-cnt").addEventListener("click",function(j){j.stopPropagation();if(j.target.tagName.toLowerCase()==="i"){var h=j.target.dataset.emoji;var i=new Image();i.src="http://0.web.qstatic.com/webqqpic/style/face/"+h+".gif";b.insertToContent(i,"node");if(!j.ctrlKey){$(".emoji-cnt").style.display="none";$(".emoji").classList.remove("on")}}},false);document.body.addEventListener("click",function(h){$(".emoji-cnt").style.display="none";$(".emoji").classList.remove("on")},false);$("#fileup").addEventListener("change",function(j){var h=j.target.files[0];if(h&&h.type.indexOf("image")>-1){var i=new FileReader();i.onload=function(){var k=new Image();k.src=this.result;b.insertToContent(k,"node")};i.readAsDataURL(h)}},false);g.addEventListener("dragover",function(h){h.preventDefault()},false);g.addEventListener("drop",function(j){j.preventDefault();var h=j.dataTransfer.files[0];if(h&&h.type.indexOf("image")>-1){var i=new FileReader();i.onload=function(){var k=new Image();k.src=this.result;b.insertToContent(k,"node")};i.readAsDataURL(h)}},false);g.addEventListener("paste",function(i){if(i.clipboardData.types[0].indexOf("text")>-1){setTimeout(b.onPaste.bind(b));return}if(i.clipboardData&&i.clipboardData.items[0].type.indexOf("image")>-1){var h=new FileReader();file=i.clipboardData.items[0].getAsFile();h.onload=function(k){var j=new Image();j.src=this.result;b.insertToContent(j,"node")};h.readAsDataURL(file)}},false);var f=document,d=f.body;var c={init:function(){this.status=0;this.isMdown=false;this.isMask=false;this.maskDiv=null;this.clipDiv=null;this.clipObj={};this.node=d;this.st=null;clearTimeout(this.st);d.classList.remove("clip");$(".snapshot").classList.remove("on")},initEvent:function(h){var i=this;this.init();f.addEventListener("mousedown",this.mouseDown,false);f.addEventListener("mousemove",this.areaOp,false);f.addEventListener("dblclick",this.clipOp,false);f.addEventListener("keydown",function(j){if(i.isMask&&j.keyCode===27){i.ESC()}},false);$(".snapshot").addEventListener("mousedown",this.printMod,false);$(".msg-cnt").addEventListener("dblclick",function(j){if(j.target.tagName.toLowerCase()=="img"){window.open(j.target.src)}},false);$(".input-cnt").addEventListener("dblclick",function(j){if(j.target.tagName.toLowerCase()=="img"){window.open(j.target.src)}},false);window.addEventListener("resize",function(j){if(i.status){i.docW=d.scrollWidth;if(i.status===1){i.areaRender()}else{i.maskDiv.style.borderRightWidth=(i.docW-i.clipObj.x-i.clipObj.w-2)+"px"}}},false);f.addEventListener("mouseup",function(){!!i.isMdown&&(i.isMdown=false)},false)},printMod:function(h){h.stopPropagation();var i=c;if(!i.isMask){d.classList.add("clip");i.status=1;i.isMask=true;i.docW=d.scrollWidth;i.docH=d.scrollHeight;i.maskDiv=f.createElement("div");i.maskDiv.dataset.mark="mask";i.maskDiv.style.cssText="position:absolute;top:0;left:0;right:0;border:0 solid rgba(0,0,0,.5); border-bottom-width:"+i.docH+"px;z-index:99;";d.appendChild(i.maskDiv);$(".snapshot").classList.add("on")}},mouseDown:function(h){var i=c;if(i.status){if(h.button===0&&i.status===1){clearTimeout(i.st);i.st=setTimeout(function(){i.status=2;i.maskDiv.style.cssText+="width:auto;height:auto;border:0 solid rgba(0,0,0,.5);border-bottom-width:"+i.docH+"px";i.clipObj.x=i.clipObj._x=h.pageX;i.clipObj.y=i.clipObj._y=h.pageY;i.clipDiv=f.createElement("div");i.clipDiv.dataset.mark="clip";i.clipDiv.style.cssText="position:absolute;left:"+h.pageX+"px;top:"+h.pageY+"px;border:1px solid #0A7CCA;";d.appendChild(i.clipDiv);i.isMdown=true},250)}else{if(h.button===2){f.addEventListener("contextmenu",i.cancelRmouse,false);if(i.status===1){i.ESC()}else{i.status=1;i.maskDiv.style.cssText="position:absolute;top:0;left:0;right:0;width:auto;height:auto;border:0 solid rgba(0,0,0,.5); border-bottom-width:"+i.docH+"px;pointer-events:none;";d.removeChild(i.clipDiv);i.clipDiv=null}}}}},areaOp:function(h){var i=c;if(!!i.isMdown){if(h.pageX>i.docW||h.pageX<0||h.pageY>i.docH||h.pageY<0){return}i.clipObj._w=h.pageX-i.clipObj._x,i.clipObj._h=h.pageY-i.clipObj._y;i.clipObj.w=Math.abs(i.clipObj._w);i.clipObj.h=Math.abs(i.clipObj._h);i.clipDiv.style.width=i.clipObj.w+"px";i.clipDiv.style.height=i.clipObj.h+"px";if(i.clipObj._w<0){i.clipDiv.style.left=h.pageX+"px";i.clipObj.x=h.pageX}if(i.clipObj._h<0){i.clipDiv.style.top=h.pageY+"px";i.clipObj.y=h.pageY}i.maskRender()}},clipOp:function(h){var i=c;if(!i.status){return}clearTimeout(i.st);if(!i.sound){i.sound=f.createElement("audio");i.sound.src="http://yun.365.sh/s/40091.mp3"}i.sound.play();i.clearRender();html2canvas(d,{onrendered:function(l){var m=l.getContext("2d").getImageData(i.clipObj.x,i.clipObj.y,i.clipObj.w,i.clipObj.h);var n=document.createElement("canvas");n.width=i.clipObj.w;n.height=i.clipObj.h;var j=n.getContext("2d");j.putImageData(m,0,0);var k=new Image();k.src=n.toDataURL();b.insertToContent(k,"node");i.init()}})},maskRender:function(){var h=this.docW-this.clipObj.x-this.clipObj.w-2,i=this.docH-this.clipObj.y-this.clipObj.h-2;h=h>0?h:0;i=i>0?i:0;var j="width:"+(this.clipObj.w+2)+"px;        height:"+(this.clipObj.h+2)+"px;        border-width:"+this.clipObj.y+"px         "+(h)+"px        "+(i)+"px        "+this.clipObj.x+"px";this.maskDiv.style.cssText+=j},clearRender:function(){!!this.maskDiv&&d.removeChild(this.maskDiv);!!this.clipDiv&&d.removeChild(this.clipDiv)},ESC:function(){this.clearRender();this.init()},cancelRmouse:function(h){h.preventDefault();f.removeEventListener("contextmenu",c.cancelRmouse,false)},getNode:function(i,h){do{if(i.getAttribute(h)||i==document.body){return i}}while(i=i.parentNode)},getPos:function(k){var j=0,i=0,h=k;do{if(k==h){j=k.offsetLeft;i=k.offsetTop}else{j+=k.offsetLeft+k.clientLeft;i+=k.offsetTop+k.clientTop}}while(k=k.offsetParent);return{x:j,y:i}}};c.initEvent()}console.log("发送消息快捷键 %c%s%c 或者 %c%s","background:#f7f7f7;color:#333;padding:0 2px;","Alt+S","color:inherit;","background:#f7f7f7;color:#333;padding:0 2px;","Ctrl+Enter");console.log("退出截图可用 %c%s%c 或者 %c%s","background:#f7f7f7;color:#333;padding:0 2px;","ESC","color:inherit;","color:red;","右键");console.log("本页面在%cchrome 37%c下开发测试，其他浏览器未作兼容","color:darkviolet;","color:inherit;");
